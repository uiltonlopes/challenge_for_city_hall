<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>Membros</h2>
                <div class="box-tools pull-right">
                    <%= link_to  new_member_path, class:"btn btn-success pull-right", remote: true do %>
                        Adicionar
                    <% end %>
                </div>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <p class="text-muted font-13 m-b-30">
                Lista de equipes cadastradas no sistema
            </p>
            <table id="member-datatable" class="table table-striped table-bordered "  data-source="<%= members_path(format: :json) %>">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Email</th>
                        <th>Equipe</th>
                        <th colspan="3" class="text-center">Ações</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</div>


<%= content_for :javascripts do %>
  jQuery(document).ready(function() {
    table_member = $('#member-datatable').dataTable({
      "language": {
        "url": "https://cdn.datatables.net/plug-ins/1.10.16/i18n/Portuguese-Brasil.json"
      },
      "processing": true,
      "serverSide": true,
      "ajax": $('#member-datatable').data('source'),
      'paging': true,
      'lengthChange': true,
      'searching': true,
      'ordering': true,
      'info': true,
      'autoWidth': false,
      "columns": [
        {"data": "id"},
        {"data": "email"},
        {"data": "name"},
        { "data": "show", "sClass": "action_table text-center"},
        { "data": "edit", "sClass": "action_table text-center"},
        { "data": "delete", "sClass": "action_table text-center"}
      ]
    });
  });
<% end %>

